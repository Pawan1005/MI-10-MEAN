<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>que 2</title>
        <style>
            table {
                font-family: Arial, Helvetica, sans-serif;
                border-collapse: collapse;
                width: 100%;
            }
            table td,
            table th {
                border: 1px solid #ddd;
                padding: 8px;
                text-align: center;
            }
            table tr:nth-child(even) {
                background-color: #f2f2f2;
            }
            table tr:hover {
                background-color: #ddd;
            }
            table th {
                padding-top: 12px;
                padding-bottom: 12px;
                text-align: center;
                background-color: #6951d3;
                color: white;
            }
            #addrow{
                display: block;
                margin: auto;
                width: 10%;
                margin-top: 20px;
                padding: 10px;
            }
            h2{
                text-align: center;
            }
        </style>
    </head>
    <body>
        <div>
            <h2>Details of Students</h2>
            <table id="table_data">
                <tr>
                    <th>sr no.</th>
                    <th>mobile</th>
                    <th>Name</th>
                    <th>city</th>
                    <th>operations</th>
                </tr>

                <tr id="row1">
                    <td>1</td>
                    <td id="mobile_row1">9619244756</td>
                    <td id="name_row1">Anil</td>
                    <td id="city_row1">pune</td>
                    <td>
                        <input
                            type="button"
                            id="btnEdit1"
                            value="Edit"
                            class="edit"
                            onclick="edit_row(1)"
                        />
                        <input
                            type="button"
                            id="btnSave1"
                            value="Save"
                            class="save"
                            onclick="save_row(1)"
                        />
                        <input
                            type="button"
                            value="Delete"
                            class="delete"
                            onclick="delete_row(1)"
                        />
                    </td>
                </tr>

                <tr id="row2">
                    <td>2</td>
                    <td id="mobile_row2">7738102562</td>
                    <td id="name_row2">Gargi</td>
                    <td id="city_row2">mumbai</td>

                    <td>
                        <input
                            type="button"
                            id="btnEdit2"
                            value="Edit"
                            class="edit"
                            onclick="edit_row(2)"
                        />
                        <input
                            type="button"
                            id="btnSave2"
                            value="Save"
                            class="save"
                            onclick="save_row(2)"
                        />
                        <input
                            type="button"
                            value="Delete"
                            class="delete"
                            onclick="delete_row(2)"
                        />
                    </td>
                </tr>
            </table>
            <br /><br />
            <input id="addrow" type="button" onclick="add_row();" value="Add" />
        </div>
        <script>
            var table = document.getElementById("table_data");
            var actRow = table.rows.length;
            function edit_row(no) {
                var mobile = document.getElementById("mobile_row" + no);
                var name = document.getElementById("name_row" + no);
                var city = document.getElementById("city_row" + no);
                var mobile_data = mobile.innerHTML;
                var name_data = name.innerHTML;
                var city_data = city.innerHTML;
                mobile.innerHTML =
                    "<input type='text' id='mobiletxt" +
                    no +
                    "' value='" +
                    mobile_data +
                    "'>";
                console.log(mobile.innerHTML);
                name.innerHTML =
                    "<input type='text' id='nametxt" +
                    no +
                    "' value='" +
                    name_data +
                    "'>";
                city.innerHTML =
                    "<input type='text' id='citytxt" +
                    no +
                    "' value='" +
                    city_data +
                    "'>";
            }

            function save_row(no) {
                debugger;
                var mobile_val = document.getElementById(
                    "mobiletxt" + no
                ).value;
                var name_val = document.getElementById("nametxt" + no).value;
                var city_val = document.getElementById("citytxt" + no).value;

                document.getElementById("mobile_row" + no).innerHTML =
                    mobile_val;
                document.getElementById("name_row" + no).innerHTML = name_val;
                document.getElementById("city_row" + no).innerHTML = city_val;
            }

            function delete_row(no) {
                document.getElementById("row" + no).outerHTML = "";
            }

            function add_row() {
                debugger;
                var table = document.getElementById("table_data");
                var row = (table.insertRow(
                    -1
                ).outerHTML = `<tr id="row${actRow}">
                    <td> ${actRow}</td>  
                <td id="mobile_row${actRow}">
                    <input type="text" id="mobiletxt${actRow}">
                </td>
                <td id="name_row${actRow}"">
                    <input type="text" id="nametxt${actRow}"> 
                </td>
                <td id="city_row${actRow}">
                    <input type="text" id="citytxt${actRow}">
                </td>
                <td>
                <input type="button"
                id="btnEdit${actRow}"
                value="Edit"
                class="edit"
                onclick="edit_row('${actRow}')">
                <input type="button"
                id="btnSave${actRow}"
                value="Save"
                class="save"
                onclick="save_row('${actRow}')" />
                <input  type="button"
                value="Delete"
                class="delete"
                onclick="delete_row('${actRow}')"/>
                </td>   
            </tr>`);
                actRow++;
            }
        </script>
    </body>
</html>
